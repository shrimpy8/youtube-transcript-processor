# YouTube Podcast Transcript Processor

A Next.js application for extracting, processing, and exporting YouTube podcast transcripts with advanced features including speaker detection, deduplication, and TXT export format.

## ğŸ“‹ Project Documentation

- **[docs/PRD-UI.md](./docs/PRD-UI.md)** - Product Requirements Document for the User Interface
- **[docs/MILESTONES.md](./docs/MILESTONES.md)** - Development milestones with validation criteria and success metrics

## ğŸ“¸ Screenshots

### Main Interface
![Main Interface](./screenshots/1_YouTube_Podcast_Transcript_Processor.png)
*Main application interface with URL input and processing options*

### AI Summary
![AI Summary](./screenshots/2_YouTube_Podcast_AI_Summary.png)
*AI-powered summary generation from multiple LLM providers*

### Transcript Viewer
![Transcript Viewer](./screenshots/3_YouTube_Podcast_Transcript.png)
*Interactive transcript viewer with search and export options*

## ğŸ¤– AI Summary Examples

The `ai_summary` folder contains example summaries generated by different LLM providers for podcast episodes:

- **[AI Summary Folder](./ai_summary/)** - Contains summaries from Anthropic Sonnet 4.5, Google Gemini 2.5 Flash, and Perplexity Sonar Online

## âš¡ Performance Optimizations

The application includes comprehensive performance optimizations:

### Runtime Optimizations

- **Session-based caching**: Channel data is cached in memory for 5 minutes, enabling instant tab switching
- **Request deduplication**: Prevents duplicate concurrent API requests
- **Component memoization**: React.memo and useMemo prevent unnecessary re-renders
- **Optimized video enrichment**: Parallel processing for video metadata fetching
- **Tab persistence**: Channel tab stays mounted once viewed for faster subsequent access
- **Debounce & throttle**: Optimized user input handling and API calls
- **Lazy loading**: Images and heavy components loaded on demand
- **Code splitting**: Automatic bundle splitting for optimal loading

### Build Optimizations

- **Bundle optimization**: Webpack code splitting with vendor/common chunks
- **Image optimization**: AVIF and WebP format support with caching
- **Font optimization**: Font display swap for faster rendering
- **Tree shaking**: Unused code elimination
- **SWC minification**: Fast JavaScript minification

### Performance Monitoring

- **Web Vitals tracking**: FCP, LCP, FID, CLS, and TTFB monitoring
- **Performance metrics**: Page load time, DOM content loaded time
- **Memory usage tracking**: JavaScript heap size monitoring
- **Bundle size analysis**: Resource size tracking and optimization

## ğŸ¨ User Interface

The application features a clean, modern interface with:

- **Tabbed interface**: Video tab shows preview and transcript, Channel tab shows top 10 videos
- **Real-time processing**: Visual feedback during transcript processing
- **Search functionality**: Search within transcripts with highlighting
- **Export options**: TXT format export with customizable options (metadata, timestamps)
- **Dark mode**: Full dark mode support with system preference detection
- **Responsive design**: Works seamlessly on mobile, tablet, and desktop
- **Loading skeletons**: Smooth loading states for async content
- **Smooth animations**: CSS transitions with reduced motion support
- **Micro-interactions**: Visual feedback for all user actions

## â™¿ Accessibility

The application is built with accessibility in mind:

- **WCAG 2.1 AA compliant**: Meets accessibility standards
- **Keyboard navigation**: Full keyboard support for all interactions
- **Screen reader support**: ARIA labels and semantic HTML
- **Focus management**: Proper focus trapping and restoration
- **Color contrast**: Meets WCAG contrast requirements
- **Skip links**: Quick navigation for keyboard users
- **Reduced motion**: Respects user's motion preferences

## ğŸ¯ Current Status

**Project Status**: âœ… **100% Complete** - All milestones achieved!

### Backend Logic: âœ… 100% Complete

- Transcript processing library with deduplication
- Speaker detection (Host/Guest patterns)
- TXT format export with customizable options
- Utility functions for YouTube URL handling
- yt-dlp integration for transcript fetching
- Channel and playlist video discovery
- Comprehensive error handling and edge case coverage

### Frontend UI: âœ… 100% Complete

- Complete UI with shadcn/ui components
- URL input with real-time validation
- Video preview with tabbed interface (Video/Channel tabs)
- Processing options panel with localStorage persistence
- Real-time transcript processing with progress tracking
- Interactive transcript viewer with search functionality
- Export controls for TXT format
- Channel details with top 10 videos display
- Performance optimizations (caching, memoization, request deduplication)
- Dark mode support
- Responsive design
- Accessibility improvements (WCAG 2.1 AA compliant)
- Mobile optimization with touch support
- Performance monitoring and Web Vitals tracking
- Cross-browser compatibility

## ğŸš€ Getting Started

### Environment Setup

Before running the development server, you need to configure your environment variables. Create a `.env.local` file in the root directory:

```bash
# Copy the example and add your API keys
cp .env.example .env.local  # If .env.example exists
# Or create .env.local manually
```

Add your API keys to `.env.local`:

```env
# Anthropic API Configuration (Required for AI Summary feature)
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MODEL_NAME=Anthropic Sonnet 4.5

# Google Gemini API Configuration (Optional)
GOOGLE_GEMINI_API_KEY=your_google_gemini_api_key_here
GOOGLE_GEMINI_MODEL=gemini-2.5-flash
GOOGLE_GEMINI_MODEL_NAME=Google Gemini 2.5 Flash

# Perplexity API Configuration (Optional)
PERPLEXITY_API_KEY=your_perplexity_api_key_here
PERPLEXITY_MODEL=sonar-online
PERPLEXITY_MODEL_NAME=Perplexity Sonar Online
```

**Note**: The `ANTHROPIC_API_KEY` is required if you want to use the AI Summary feature. You can get your API key from [Anthropic's Console](https://console.anthropic.com/).

For more details, see [docs/ENV_VARIABLES.md](./docs/ENV_VARIABLES.md).

### Running the Development Server

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## ğŸ› ï¸ Tech Stack

- **Framework**: Next.js 15+ (App Router)
- **Language**: TypeScript 5+
- **Styling**: Tailwind CSS 4+
- **UI Components**: shadcn/ui (to be installed)
- **React**: 19+

## ğŸ“¦ Features

### âœ… Core Features

- âœ… YouTube URL validation and parsing (multiple formats)
- âœ… Transcript processing with deduplication
- âœ… Automatic speaker detection (Host/Guest)
- âœ… TXT format export with customizable options
- âœ… Single video transcript processing
- âœ… Channel and playlist video browsing
- âœ… Interactive transcript viewer with search
- âœ… Real-time processing options with persistence
- âœ… Channel information display with top 10 videos
- âœ… AI-powered transcript summaries (Anthropic, Google Gemini, Perplexity)

### âœ… Performance & Optimization

- âœ… Session-based caching for instant tab switching
- âœ… Request deduplication to prevent duplicate API calls
- âœ… Component memoization (React.memo, useMemo, useCallback)
- âœ… Code splitting and lazy loading
- âœ… Bundle optimization and tree shaking
- âœ… Image optimization (AVIF, WebP)
- âœ… Performance monitoring (Web Vitals tracking)
- âœ… Debounce and throttle utilities

### âœ… User Experience

- âœ… Dark mode support with system preference detection
- âœ… Responsive mobile design with touch optimization
- âœ… Loading skeletons for smooth loading states
- âœ… Smooth animations with reduced motion support
- âœ… Micro-interactions and visual feedback
- âœ… Error handling with recovery options
- âœ… Empty states with helpful messages
- âœ… Comprehensive error boundaries

### âœ… Accessibility

- âœ… WCAG 2.1 AA compliance
- âœ… Full keyboard navigation support
- âœ… Screen reader optimization
- âœ… ARIA labels on all interactive elements
- âœ… Focus management and trapping
- âœ… Color contrast compliance
- âœ… Skip links for quick navigation

### ğŸš§ Future Enhancements

- Transcript history and local storage
- Advanced speaker identification (ML-based)
- Transcript summarization
- Multi-language support
- Browser extension

## ğŸ“– Development Milestones

See [docs/MILESTONES.md](./docs/MILESTONES.md) for detailed development plan. All 9 milestones are now complete:

1. âœ… Foundation & Setup
2. âœ… URL Input & Validation
3. âœ… Transcript Fetching & API Integration
4. âœ… Processing Options UI
5. âœ… Processing Integration
6. âœ… Transcript Viewer
7. âœ… Export Functionality
8. âœ… Error Handling & Edge Cases
9. âœ… Polish & Optimization

**Status**: ğŸ‰ **100% Complete** - All milestones achieved with comprehensive testing!

## ğŸ—ï¸ Project Structure

```text
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â”‚   â”œâ”€â”€ transcript/    # Transcript fetching endpoints
â”‚   â”‚   â”œâ”€â”€ channel/       # Channel information endpoint
â”‚   â”‚   â””â”€â”€ discover/      # Video discovery endpoint
â”‚   â”œâ”€â”€ layout.tsx         # Root layout with theme provider
â”‚   â””â”€â”€ page.tsx           # Home page with main UI
â”œâ”€â”€ components/            # React components
â”‚   â”œâ”€â”€ ui/               # shadcn/ui components
â”‚   â”‚   â””â”€â”€ skeleton.tsx  # Loading skeleton component
â”‚   â”œâ”€â”€ layout/           # Layout components (Header, Footer, Container)
â”‚   â”œâ”€â”€ features/         # Feature-specific components
â”‚   â”‚   â”œâ”€â”€ VideoPreview.tsx      # Video metadata and tabs
â”‚   â”‚   â”œâ”€â”€ ChannelDetails.tsx    # Channel info and top videos
â”‚   â”‚   â”œâ”€â”€ TranscriptViewer.tsx  # Transcript display with search
â”‚   â”‚   â”œâ”€â”€ ProcessingOptions.tsx # Processing configuration
â”‚   â”‚   â”œâ”€â”€ ExportControls.tsx    # Export functionality
â”‚   â”‚   â”œâ”€â”€ ErrorDisplay.tsx      # Error display component
â”‚   â”‚   â”œâ”€â”€ EmptyState.tsx        # Empty state components
â”‚   â”‚   â””â”€â”€ RetryButton.tsx      # Retry action component
â”‚   â””â”€â”€ ErrorBoundary.tsx # React error boundary
â”œâ”€â”€ lib/                   # Utility functions
â”‚   â”œâ”€â”€ transcript-processor.ts  # Processing logic
â”‚   â”œâ”€â”€ ytdlp-service.ts         # yt-dlp integration
â”‚   â”œâ”€â”€ api-client.ts            # API client with caching
â”‚   â”œâ”€â”€ channel-cache.ts          # Session-based caching
â”‚   â”œâ”€â”€ youtube-validator.ts    # URL validation
â”‚   â”œâ”€â”€ performance-utils.ts     # Performance utilities
â”‚   â”œâ”€â”€ accessibility-utils.ts   # Accessibility helpers
â”‚   â”œâ”€â”€ mobile-utils.ts          # Mobile optimization
â”‚   â”œâ”€â”€ performance-monitor.ts   # Performance monitoring
â”‚   â”œâ”€â”€ animations.ts            # Animation utilities
â”‚   â””â”€â”€ utils.ts                # General utilities
â”œâ”€â”€ hooks/                 # Custom React hooks
â”‚   â”œâ”€â”€ useChannelData.ts        # Channel data with caching
â”‚   â”œâ”€â”€ useTranscriptProcessing.ts # Transcript processing
â”‚   â”œâ”€â”€ useProcessingOptions.ts  # Options management
â”‚   â””â”€â”€ useUrlValidation.ts      # URL validation
â””â”€â”€ types/                 # TypeScript definitions
    â””â”€â”€ index.ts          # Type definitions
```

## ğŸ§ª Testing

The project includes comprehensive testing:

- **Unit Tests**: Vitest + React Testing Library (80%+ coverage)
- **Integration Tests**: API routes and utility functions
- **E2E Tests**: Playwright for user flows and cross-browser testing
- **Performance Tests**: Web Vitals and bundle size monitoring
- **Accessibility Tests**: WCAG compliance and keyboard navigation

Run tests:

```bash
npm test              # Unit tests
npm run test:coverage # With coverage report
npm run test:e2e      # E2E tests
```

## ğŸ“š Documentation

- **[docs/PRD-UI.md](./docs/PRD-UI.md)** - Product Requirements Document
- **[docs/MILESTONES.md](./docs/MILESTONES.md)** - Development milestones and progress
- **[docs/ENV_VARIABLES.md](./docs/ENV_VARIABLES.md)** - Environment variable configuration
- **[docs/API_VERIFICATION.md](./docs/API_VERIFICATION.md)** - API implementation verification
- **[docs/DEBUG_LOGGING_DOCUMENTATION.md](./docs/DEBUG_LOGGING_DOCUMENTATION.md)** - Debug logging guide
- **[docs/prompt.md](./docs/prompt.md)** - AI summary prompt template (loaded at runtime for LLM API calls)

## ğŸ“ Learn More

- [Next.js Documentation](https://nextjs.org/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [shadcn/ui Documentation](https://ui.shadcn.com)
- [Playwright Documentation](https://playwright.dev)
- [Vitest Documentation](https://vitest.dev)

## ğŸš¢ Deployment

### Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme).

### Pre-Deployment Checklist

- [ ] Set all required environment variables in Vercel dashboard
- [ ] Ensure `yt-dlp` binary is available in deployment environment
- [ ] Verify API keys are configured correctly
- [ ] Run `npm run build` locally to verify build succeeds
- [ ] Run `npm run test:e2e` to verify E2E tests pass
- [ ] Check bundle size meets performance targets (< 1MB initial JS)

### Performance Targets

- âœ… Page load time < 2 seconds
- âœ… Lighthouse Performance score > 90
- âœ… Lighthouse Accessibility score > 95
- âœ… Bundle size < 1MB initial JavaScript
- âœ… Memory usage < 100MB typical operations

## ğŸ‰ Project Completion

This project has successfully completed all 9 development milestones with:

- âœ… Comprehensive error handling and edge case coverage
- âœ… Full accessibility compliance (WCAG 2.1 AA)
- âœ… Performance optimizations and monitoring
- âœ… Mobile-first responsive design
- âœ… Cross-browser compatibility
- âœ… Extensive test coverage (unit, integration, E2E)

**Ready for production deployment!** ğŸš€
